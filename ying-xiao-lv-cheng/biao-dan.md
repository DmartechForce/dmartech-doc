---
description: 表单是收集联系人信息的有效工具，可以直接将联系人数据引流到Dmartech平台。
---

# 表单

表单可以直接下发给用户也可以部署在网站等页面收集联系人信息，Dmartech平台有两类表单，一类是使用平台的编辑器直接创建的表单，成为“标准表单“；一类是金数据表单，通过对接金数据账号接入在金数据创建的表单，称为“金数据表单“。

## 标准表单/自定义表单

### 定义

**标准表单**：直接在Dmartech平台创建的表单即为标准表单，与金数据表单相区分，前者的表单内容在Dmartech直接设置，后者表单的内容在金数据平台创建，接入Dmartech。

**自定义表单**：自定义表单是仅针对标准表单的一个概念。即导出标准表单的HTML代码，对代码二次编写添加表单样式代码，相当于自定义表单样式，再将重写后的文件导入，覆盖原表单。

## 表单管理

依次点击进入“营销旅程“—表单，进入素材管理页面。

支持对素材分组管理，左侧是分组栏，右侧是素材列表，系统内置了三个分组：全部素材、我创建的、共享给我的

* 全部表单：当前所有的表单，包括系统表单、金数据表单
* 我创建的：使用账号下创建的素材
* 共享给我的：表单是可以共享的，后续会详细介绍，其他账号共享过来的表单都在该分组中 

![](../.gitbook/assets/image%20%2832%29.png)

除了系统内置的分组之外，用户可以按需自行创建分组，方便表单过多时的管理。右侧表单列表分别按照全部表单、Dmartech表单、金数据表单分类。

## 标准表单创建

**Step1:准备表单中需要的字段，在用户属性中创建相应属性**

为了使表单收集的数据能在平台中使用，需要先在数据中心-&gt;元数据-&gt;用户属性中新增当前表单需要的用户属性中没有的字段。

![&#x5728;&#x5143;&#x6570;&#x636E;&#x65B0;&#x589E;&#x8868;&#x5355;&#x5B57;&#x6BB5;](../.gitbook/assets/666.gif)

**Step2:添加表单字段**

依次点击营销旅程-&gt;表单-&gt;创建表单-&gt;标准表单开始创建一个标准表单。

页面左侧展示了表单项，预置了部分联系人信息可直接点击添加至页面中间的表单展示区，也可点击字段类型添加字段；添加字段后，点击字段可在右侧设置字段相应属性。

单编辑器为左中右布局，左侧为字段选择区，中间为表单展示区，右侧为字段设置区。页面左侧展示了表单项，预置了部分联系人信息可直接点击添加至页面中间的表单展示区，也可点击字段类型添加字段；添加字段后，点击字段可在右侧设置字段相应属性。

![](../.gitbook/assets/777%20%281%29.gif)

![](../.gitbook/assets/tu-pian-17.png)

注意：其中“订阅”字段，若表单填写者提交值为“是”表示同意订阅，为“否”表示退订，与“全局退订”字段直接关联。

![](../.gitbook/assets/image%20%2819%29.gif)

**Step3:设置表单主题/样式（非必须）**

设置好表单字段后，可以按需设置表单主题和样式。表单主题有系统主题和自定义主题。

* 系统主题：有默认主题和无主题两种，点击相应主题可直接应用
* 自定义主题：自行上传css代码文件，创建为自定义主题后应用。css代码可参照平台提供的模板

表单样式主要针对页面背景、表单展示宽度和字体进行样式设置。

注意：若自定义主题文件无法上传或主题无法生效，可联系在线客服。

**Step4:字段匹配**

表单设置完成后将点击下一步，进入字段匹配。这一步则是为了表单字段与第一步中设置的用户属性对应，表单收集的数据才可以同步到平台联系人库。

![](../.gitbook/assets/image%20%2828%29.gif)

注意：可选择“不匹配此字段”，此时该字段数据不会被记录。

字段匹配完成后，表单就可以使用进行数据收集。

**Step5:扩展属性（非必需）**

扩展属性的设置是指通过给表单链接加上后缀，跟踪不同渠道获取的表单数据，一般用于广告投放渠道统计和销售人员的业绩统计。

![](../.gitbook/assets/image%20%2818%29.gif)

**Step6:表单提交设置、提交跳转设置（不设置则按照默认规则执行）**

1、表单提交设置，可以设定是否限制每人提交设置

注意：当需要限制每人仅提交一次时，表单中必须有主键字段，比如手机号、邮箱等，否则无法识别提交者唯一身份

表单提交总次数设置，可以设置是否限制最多可提交多少数据，多用于限量报名等活动

![](../.gitbook/assets/image%20%2815%29.gif)

2、提交跳转设置，可以设定表单提交后，页面如何跳转或显示

1）提交成功跳转

* 隐藏字段跳转

系统默认给表单中添加一个隐藏字段【GOTOURL】，如果有指定的跳转url，则会优先使用该跳转方式，若该字段未赋值，则会按照其他默认或指定方式跳转。

* 默认跳转

默认跳转也支持两种设置内容，一种是设置一个默认跳转成功的页面；另一种是指定一个跳转url

默认提交跳转成功，支持上传一个图片，图片下方显示提示文字。

* 规则设置跳转

设置一定的规则，满足不同条件的联系人提交表单后可能跳转至不同链接。

比如行业=金融，跳转至金融相关页面；行业=教育，跳转至教育相关页面；若字段未匹配，也可设置其他跳转页面。

![](../.gitbook/assets/image%20%2837%29.gif)

2）提交失败跳转

系统默认提供了一个提交跳转失败链接，也可替换为自己的链接。

![](../.gitbook/assets/image%20%2839%29.gif)

**Step7:若需要对表单样式进行自定义，导出html，添加css样式，传回文件**

表单项和表单设置全部完成后，若需要对表单进行样式美化，可以导出表单HTML文件，直接在文件中添加css代码。具体操作如下：

1、在表单编辑保存后，导出HTML文件到本地。

2、本地新建一个空文件夹把导出的HTML文件放置到此处（注意不要嵌套多层文件夹）；如需更改样式可以直接更改HTML文件， 亦可新建一个css文件引入（如果仅仅是修改样式， 请移步至表单编辑处， 主题功能）， 如需添加图片， 注意文件大小（最好单个图片不要大于1M）与格式（可用格式在新建自定义表单页有标注），如需使用字体包，不要引入外部链接，把字体包一同放置在当前文件夹下，当前文件内引入， 不要更改表单内已配置的字段，会影响数据统计的准确性。（如想另加、修改字段，请重新新建、编辑表单） ， 注意：所有文件名称不建议包含中文字符， 修改完成后把文件夹打包成zip（当前仅支持zip格式）格式压缩包。

3、在表单列表页点击操作栏处点击自定义表单按钮进入新建自定义表单页；

![](../.gitbook/assets/image%20%2827%29.gif)

4、进入新建自定义表单页，点击新增自定义表单按钮， 按要求填写名称、上传zip包文件

![](../.gitbook/assets/image%20%2836%29.gif)

5、新建成功后会生成一条列表数据， 点击列表操作项查看按钮，查看生成的自定义表单链接（注意：原表单链接不跳转自定义表单）等信息。

![](../.gitbook/assets/image%20%2832%29.gif)

![](../.gitbook/assets/image%20%2840%29.gif)

![](../.gitbook/assets/image%20%2813%29.gif)

### 表单下发

 表单创建完成后，点击保存，页面跳转至“字段匹配”页面，**此时在表单右上角会出现表单链接（可复制）、表单二维码（扫描可预览表单），以及导出HTML按钮，点击可导出当前表单HTML源代码，可用于表单二次加工。**

![&#x8868;&#x5355;&#x94FE;&#x63A5;&#x53CA;&#x5BFC;&#x51FA;HTML](../.gitbook/assets/tu-pian-18.png)

* 直接使用表单链接/二维码

表单创建并保存后，会生成一个表单链接和二维码，可以直接通过点击链接或扫码二维码提交表单数据。

* 微信渠道回复表单链接

微信回复表单使用静默授权的方式。

微信授权分为静默授权和非静默授权，两者的区别在于，前者不需要微信用户点击授权按钮，但只能获取微信openid，后者需点击授权按钮，但能获取微信用户基本信息（openid、微信昵称、性别、头像地址、国籍、省、市）

1）二维码模块

二维码-扫码回复类型：表单（表单回复文字/表单回复外部页），插入或选择的表单除了金数据表单以外都使用静默授权。 

注意：回复文本插入表单链接，支持插入多个链接

![](../.gitbook/assets/image%20%28627%29.png)

**2）发送消息模块：**

发送消息-客服消息-发送类型：表单（表单回复文字/表单回复外部页），插入或选择的表单除了金数据表单以外都使用静默授权。

![](../.gitbook/assets/image%20%2841%29.gif)

发送消息-模板消息-选择的模板设置了跳转表单（除了金数据表单）：模板设置跳转表单参见：6）模板管理模块。

![](../.gitbook/assets/image%20%2831%29.gif)

3）**自动回复模块：**

自动回复-被关注自动回复-回复类型：表单（表单回复文字/表单回复外部页），插入或选择的表单除了金数据表单以外都使用静默授权。

![](../.gitbook/assets/image%20%2821%29.gif)

① 自动回复-消息自动回复-回复类型：表单（表单回复文字/表单回复外部页），插入或选择的表单除了金数据表单以外都使用静默授权。

![](../.gitbook/assets/image%20%2829%29.gif)

② 自动回复-关键词自动回复-回复类型：表单（表单回复文字/表单回复外部页），插入或选择的表单除了金数据表单以外都使用静默授权。

![](../.gitbook/assets/image%20%2830%29.gif)

![](../.gitbook/assets/image%20%2835%29.gif)

**4）自定义菜单模块：**

①　自定义菜单-发送消息-消息类型：表单（表单回复文字/表单回复外部页），插入或选择的表单除了金数据表单以外都使用静默授权。

![](../.gitbook/assets/image%20%2822%29.gif)

② 个性化菜单-新建菜单/编辑菜单-发送消息-消息类型：表单（表单回复文字/表单回复外部页），插入或选择的表单除了金数据表单以外都使用静默授权。

![](../.gitbook/assets/image%20%2816%29.gif)

**5）消息管理模块**

消息管理-点击用户头像进入与用户聊天界面-发送消息类型：表单（表单回复文字/表单回复外部页），插入或选择的表单除了金数据表单以外都使用静默授权。

![](../.gitbook/assets/image%20%2838%29.gif)

6）**模板管理模块：**

模板管理-查看模板-模板跳转设置-模板跳转表单：选择的表单除了金数据表单以外，当在微信发送消息或旅程中使用到该模板时都使用静默授权。

![](../.gitbook/assets/image%20%2814%29.gif)

**7）实时旅程**

旅程素材-客服消息-跳转表单（拖拽到画布）-点击编辑跳转表单控件：表单（表单回复文字/表单回复外部页），插入或选择的表单除了金数据表单以外都使用静默授权。

![](../.gitbook/assets/image%20%2820%29.gif)

![](../.gitbook/assets/image%20%2825%29.gif)

② 旅程素材-模板消息-选择模板跳转设置为表单的模板（参见六、模板管理模块）拖拽至画布：若在微信管理-模板管理中设置了该模板跳转设置为表单（金数据表单除外），则旅程发送时会使用静默授权。

![](../.gitbook/assets/image%20%2834%29.gif)

![](../.gitbook/assets/image%20%2823%29.gif)

**8）定时旅程**

①　定时旅程-旅程素材-客服消息-跳转表单（拖拽到画布）-点击编辑跳转表单控件：表单（表单回复文字/表单回复外部页），插入或选择的表单除了金数据表单以外都使用静默授权。

![](../.gitbook/assets/image%20%2826%29.gif)

![](../.gitbook/assets/image%20%2817%29.gif)

② 旅程素材-模板消息-选择模板跳转设置为表单的模板（参见六、模板管理模块）拖拽至画布：若在微信管理-模板管理中设置了该模板跳转设置为表单（金数据表单除外），则旅程发送时会使用静默授权。

![](../.gitbook/assets/image%20%2833%29.gif)

![](../.gitbook/assets/image%20%2824%29.gif)

### **数据提交与入库**

在表单下发的介绍中，我们可以看到表单可以通过多种方式下发，主要分为微信渠道下发和非微信渠道下发。当表单中包含主键字段（手机、邮箱、微信openid、微信unionid）时，提交当数据会按照主键合并至联系人库，当表单中不包含主键字段且表单是通过微信渠道提交时，数据会自动以微信openid为主键入库，当表单不是通过微信渠道提交时，此时系统无法进行主键匹配，数据不会进入联系人库，仅存在于表单提交记录中。

### **表单事件及历史提交记录应用**

用户提交表单后会产生表单提交事件。使用表单提交记录作为筛选条件时，可参考：

https://doc.dmartech.cn/ying-xiao-lv-cheng/shi-yong-biao-dan-ti-jiao-ji-lu-zuo-wei-shai-xuan-tiao-jian-shuo-ming

## 表单其他基本操作

表单操作：编辑、表单统计、暂停、共享

* 编辑：已下发的表单，编辑后，只有保留的原来的字段值会被收集到，其他字段不会被收集；
* 表单统计：查看表单提交详情，统计表单提交人数与提交次数
* 暂停：暂停后提交的表单数据将不会被收集
* 共享：表单可以共享给其他账户或安全组（关于安全组的详细内容请查看“[企业设置](../ge-ren-zhong-xin/qi-ye-she-zhi.md)“），并可限制对共享表单的操作权限。

![](../.gitbook/assets/image%20%28456%29.png)





